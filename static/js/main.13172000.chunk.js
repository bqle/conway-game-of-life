(this["webpackJsonpconway-game-of-life"]=this["webpackJsonpconway-game-of-life"]||[]).push([[0],{123:function(t,e,n){"use strict";n.r(e);var r=n(74),a=n.n(r),s=n(120),i=n(45),o=n(46),u=n(50),c=n(49),l=(n(124),n(26)),h=n.n(l),b=n(122),d=n.n(b),f=(n(423),n(1)),v=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(f.jsx)("button",{className:"square",style:{backgroundColor:this.props.value?"#c37979":"#ffffff",transition:"all .4s ease",WebkitTransition:"all .4s ease",MozTransition:"all .4s ease"},onClick:this.props.onClick})}}]),n}(h.a.Component),j=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"renderSquare",value:function(t){var e=this;return Object(f.jsx)(v,{value:t.value,onClick:function(){return e.props.onClick(t.i)}})}},{key:"render",value:function(){var t=this,e=this.props.board;return Object(f.jsx)("div",{classname:"board",children:e.map((function(e){return Object(f.jsx)("div",{className:"board-row",children:e.map((function(e){return t.renderSquare(e)}))})}))})}}]),n}(h.a.Component);function p(t){return new Promise((function(e){return setTimeout(e,t)}))}var m=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t){var r;Object(i.a)(this,n),r=e.call(this,t);for(var a=Array(20).fill(null).map((function(){return Array(20)})),s=0;s<a.length;s++)for(var o=0;o<a[0].length;o++)a[s][o]={i:20*s+o,value:!1};return r.isRunning=!1,r.genSpeed=1,r.state={board:a,stepNumber:0,history:[a]},r}return Object(o.a)(n,[{key:"handleClick",value:function(t){if(!this.isRunning){var e=Math.floor(t/20),n=t%20,r=this.state.board.slice();r[e][n]={i:t,value:!this.state.board[e][n].value},this.setState({board:r})}}},{key:"nextGen",value:function(){console.log("next gened");for(var t=this.state.board.length,e=this.state.board[0].length,n=JSON.parse(JSON.stringify(this.state.board)),r=!1,a=0;a<t;a++)for(var s=0;s<e;s++){var i=0;a-1>=0&&s-1>=0&&this.state.board[a-1][s-1].value&&i++,a-1>=0&&this.state.board[a-1][s].value&&i++,a-1>=0&&s+1<e&&this.state.board[a-1][s+1].value&&i++,s-1>=0&&this.state.board[a][s-1].value&&i++,s+1<e&&this.state.board[a][s+1].value&&i++,a+1<t&&s-1>=0&&this.state.board[a+1][s-1].value&&i++,a+1<t&&this.state.board[a+1][s].value&&i++,a+1<t&&s+1<e&&this.state.board[a+1][s+1].value&&i++,n[a][s]=i<2?{i:this.state.board[a][s].i,value:!1}:2==i?{i:this.state.board[a][s].i,value:this.state.board[a][s].value}:3==i?{i:this.state.board[a][s].i,value:!0}:{i:this.state.board[a][s].i,value:!1},n[a][s].value!=this.state.board[a][s].value&&(r=!0)}var o=this.state.history.slice(0,this.state.stepNumber+1);o.push(n),this.setState({board:n,history:o,stepNumber:this.state.stepNumber+1}),r||(this.isRunning=!1)}},{key:"reset",value:function(){console.log("Reset");for(var t=0,e=Array(20).fill(null).map((function(){return Array(20)})),n=0;n<e.length;n++)for(var r=0;r<e[0].length;r++)e[n][r]={i:t,value:!1},t++;this.isRunning=!1,this.setState({board:e,stepNumber:0,history:[e]})}},{key:"endGame",value:function(){this.isRunning=!1}},{key:"startGame",value:function(){var t=Object(s.a)(a.a.mark((function t(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isRunning){t.next=2;break}return t.abrupt("return");case 2:this.isRunning=!0,e=this.state.history.slice(0,this.state.stepNumber+1),this.setState({history:e});case 5:if(!this.isRunning){t.next=11;break}return this.nextGen(),t.next=9,p(1e3*this.genSpeed);case 9:t.next=5;break;case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setSpeed",value:function(t){this.genSpeed=t}},{key:"jumpTo",value:function(t){var e=this.state.history[t];this.setState({stepNumber:t,board:e})}},{key:"render",value:function(){var t=this,e=this.state.history.map((function(e,n){var r="Go to generation #"+n;return Object(f.jsx)("li",{children:Object(f.jsx)("button",{onClick:function(){return t.jumpTo(n)},children:r})})}));return Object(f.jsxs)("div",{className:"game",children:[Object(f.jsxs)("div",{className:"game-info",children:[Object(f.jsx)("div",{children:"Conway's Game of Life"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{onClick:function(){return t.startGame()},children:"Start"}),Object(f.jsx)("button",{onClick:function(){return t.endGame()},children:"End"}),Object(f.jsx)("button",{onClick:function(){return t.reset()},children:"Reset"})]}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{style:{font:"12px"},children:"Speed"}),Object(f.jsx)("button",{onClick:function(){return t.setSpeed(2)},children:"Slow"}),Object(f.jsx)("button",{onClick:function(){return t.setSpeed(1)},children:"Medium"}),Object(f.jsx)("button",{onClick:function(){return t.setSpeed(.5)},children:"Fast"})]}),Object(f.jsx)("ol",{children:e})]}),Object(f.jsx)("div",{className:"game-board",children:Object(f.jsx)(j,{board:this.state.board,onClick:function(e){return t.handleClick(e)}})})]})}}]),n}(h.a.Component);d.a.render(Object(f.jsx)(m,{}),document.getElementById("root"))},423:function(t,e,n){}},[[123,1,2]]]);
//# sourceMappingURL=main.13172000.chunk.js.map